@page
@model TasteOfHome.Pages.Restaurants.IndexModel

<h1>Restaurants</h1>

<div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <span class="sidebar-title">Filters</span>
        </div>

        <a href="/Restaurants" class="clear-filters">
            Clear All Filters
        </a>

        <form method="get" onchange="this.submit()">
            <div class="filter-section">
                <h4>Dietary Preferences</h4>

                @foreach (var tag in new[] { "Vegetarian", "Vegan", "Halal", "Gluten-Free" })
                {
                    <label class="checkbox-item">
                        <input type="checkbox"
                               name="SelectedDietaryFilters"
                               value="@tag"
                               checked="@Model.SelectedDietaryFilters.Contains(tag)" />
                        <span>@tag</span>
                    </label>
                }
            </div>

            <div class="filter-section">
                <h4>Cuisine Type</h4>

                @foreach (var tag in new[] { "Indian", "Chinese", "Middle Eastern", "Italian", "Vietnamese", "Ethiopian" })
                {
                    <label class="checkbox-item">
                        <input type="checkbox"
                               name="SelectedCuisineFilter"
                               value="@tag"
                               checked="@Model.SelectedCuisineFilter.Contains(tag)" />
                        <span>@tag</span>
                    </label>
                }
            </div>
        </form>
    </aside>

    <!-- Main content -->
    <main class="content">
        <ul>
            @foreach (var r in Model.Restaurants)
            {
                <li>
                    <strong>@r.Name</strong>
                    (@r.Cuisine) - @r.Location
                    <br />
                    <small>
                        Dietary:
                        @if (r.DietaryTags != null && r.DietaryTags.Any())
                        {
                            @string.Join(", ", r.DietaryTags)
                        }
                        else
                        {
                            <span>None</span>
                        }
                    </small>
                </li>
            }
        </ul>

    </main>
</div>



